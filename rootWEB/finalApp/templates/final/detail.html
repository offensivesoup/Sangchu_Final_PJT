<!DOCTYPE html>
<html lang="en">
{%load static %}
  <head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><script type="text/javascript" src="//dapi.kakao.com/v2/maps/sdk.js?appkey=7cb27ea2e3e5ce06075cf370062dfb24"></script>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@100;200;300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <title>Detail</title>
    <!-- Bootstrap core CSS -->
    <link href="{% static '/bootstrap/vendor/bootstrap/css/bootstrap.min.css' %}" rel="stylesheet">
    <!-- Additional CSS Files -->
    <link rel="stylesheet" href="{% static '/bootstrap/assets/css/fontawesome.css' %}">
    <link rel="stylesheet" href="{% static '/bootstrap/assets/css/templatemo-woox-travel.css' %}">
    <link rel="stylesheet" href="{% static '/bootstrap/assets/css/owl.css' %}">
    <link rel="stylesheet" href="{% static '/bootstrap/assets/css/animate.css' %}">
    <link rel="stylesheet" href="https://unpkg.com/swiper@7/swiper-bundle.min.css"/>
  </head>
<style>
    .main-content{
        margin-top:70px;
    }

</style>
<body>



  <!-- ***** Preloader Start ***** -->
  <div id="js-preloader" class="js-preloader">
    <div class="preloader-inner">
      <span class="dot"></span>
      <div class="dots">
        <span></span>
        <span></span>
        <span></span>
      </div>
    </div>
  </div>
  <!-- ***** Preloader End ***** -->

  <!-- ***** Header Area Start ***** -->
  <header class="header-area header-sticky">
    <div class="container">
        <div class="row">
            <div class="col-12">
                <nav class="main-nav">
                    <!-- ***** Logo Start ***** -->
                    <a href="../../../../" class="logo">
                        <img src="{% static 'bootstrap/assets/images/SANGCHU.png' %}" alt="">
                    </a>
                    <!-- ***** Logo End ***** -->
                    <!-- ***** Menu Start ***** -->
                    <ul class="nav">
                        <li><a href="../../../../">Home</a></li>
                        <li><a href="../../../../busan">Busan Analysis</a></li>
                        <li><a href="./" class="active">Property</a></li>
                       <li><a href="../../../../predict">predict</a></li>
                      {% if request.session.user %}
                       <li><a href="{% url 'mypage' %}">My Page</a></li>
                         <li><a href="{% url 'logout' %}">Logout</a></li>
                      {% else %}
                        <li><a href="../../../../sign">Login</a></li>
                      {% endif %}
                    </ul>
                    <a class='menu-trigger'>
                        <span>Menu</span>
                    </a>
                    <!-- ***** Menu End ***** -->
                </nav>
            </div>
        </div>
    </div>
  </header>
  <!-- ***** Header Area End ***** -->

<div id="result">
  <div id="deposit"></div>
  <div id="month"></div>
  <div id="address"></div>
  <div id="when"></div>
  <div id="area"></div>
  <div id="my_area"></div>
  <div id="my_floor"></div>
  <div id="total_floor"></div>
</div>

  <!-- 결과를 표시할 곳 -->
<div id="result2">
  <div id="mainIndex"></div>

  <!-- recommendation 데이터 출력을 위한 부분 -->
  <div id="recommendations"></div>
</div>

  <div class="main-content">
    <div class="container" style="width:60%;height:70vh;padding:50px 0;">
      <div class="row">
      <div class="col-lg-12 ">
      <div class="card" style="height:500px;">
  <h5 class="card-header">일반 상가</h5>
  <div class="card-body">
    <h5 class="card-title">Special title treatment</h5>
    <p class="card-text">With supporting text below as a natural lead-in to additional content.</p>
    <p class="card-text">With supporting text below as a natural lead-in to additional content.</p>
    <p class="card-text">With supporting text below as a natural lead-in to additional content.</p>
  </div>
</div>
      </div>
      </div>
    </div>



    <div class="container">
        <div class="weekly-offers" style="padding:0;border:none">
    <div class="container" style="text-align:center">
    <h2 >Sangchu 추천 매물</h2>
    </div>
    <div class="container-fluid">
      <div class="row">
        <div class="col-lg-12" style="height:500px;">
          <div class="owl-weekly-offers owl-carousel">
            <div class="item">
              <div class="thumb">
                <img src="assets/images/offers-01.jpg" alt="">
                <div class="text">
                  <h4>{{data.data.index}}<br><span><i class="fa fa-users"></i>즉시입주</span></h4>
                  <h6>3000/40<br><span>/person</span></h6>
                  <div class="line-dec"></div>
                  <ul>
                    <li>Deal Includes:</li>
                    <li><i class="fa fa-taxi"></i>일반상가</li>
                    <li><i class="fa fa-plane"></i>42.47㎡</li>
                    <li><i class="fa fa-building"></i>2층/4층</li>
                  </ul>
                  <div class="main-button">
                    <a href="reservation.html">이동하기</a>
                  </div>
                </div>
              </div>
            </div>
            <div class="item">
              <div class="thumb">
                <img src="assets/images/offers-02.jpg" alt="">
                <div class="text">
                  <h4>부산진구<br><span><i class="fa fa-users"></i>즉시입주</span></h4>
                  <h6>4000/20<br><span>/person</span></h6>
                  <div class="line-dec"></div>
                  <ul>
                    <li>Deal Includes:</li>
                    <li><i class="fa fa-taxi"></i>단지내 상가</li>
                    <li><i class="fa fa-plane"></i>65.92㎡</li>
                    <li><i class="fa fa-building"></i>1층/3층</li>
                  </ul>
                  <div class="main-button">
                    <a href="reservation.html">이동하기</a>
                  </div>
                </div>
              </div>
            </div>
            <div class="item">
              <div class="thumb">
                <img src="assets/images/offers-03.jpg" alt="">
                <div class="text">
                  <h4>부산진구<br><span><i class="fa fa-users"></i>즉시입주</span></h4>
                  <h6>6000/80<br><span>/person</span></h6>
                  <div class="line-dec"></div>
                  <ul>
                    <li>Deal Includes:</li>
                    <li><i class="fa fa-taxi"></i>대형상가</li>
                    <li><i class="fa fa-plane"></i>220.92㎡</li>
                    <li><i class="fa fa-building"></i>3층/5층</li>
                  </ul>
                  <div class="main-button">
                    <a href="reservation.html">이동하기</a>
                  </div>
                </div>
              </div>
            </div>
            <div class="item">
              <div class="thumb">
                <img src="assets/images/offers-01.jpg" alt="">
                <div class="text">
                  <h4>Havana<br><span><i class="fa fa-users"></i> 234 Check Ins</span></h4>
                  <h6>$420<br><span>/person</span></h6>
                  <div class="line-dec"></div>
                  <ul>
                    <li>Deal Includes:</li>
                    <li><i class="fa fa-taxi"></i> 5 Days Trip > Hotel Included</li>
                    <li><i class="fa fa-plane"></i> Airplane Bill Included</li>
                    <li><i class="fa fa-building"></i> Daily Places Visit</li>
                  </ul>
                  <div class="main-button">
                    <a href="reservation.html">Make a Reservation</a>
                  </div>
                </div>
              </div>
            </div>
            <div class="item">
              <div class="thumb">
                <img src="assets/images/offers-02.jpg" alt="">
                <div class="text">
                  <h4>Kingston<br><span><i class="fa fa-users"></i> 234 Check Ins</span></h4>
                  <h6>$420<br><span>/person</span></h6>
                  <div class="line-dec"></div>
                  <ul>
                    <li>Deal Includes:</li>
                    <li><i class="fa fa-taxi"></i> 5 Days Trip > Hotel Included</li>
                    <li><i class="fa fa-plane"></i> Airplane Bill Included</li>
                    <li><i class="fa fa-building"></i> Daily Places Visit</li>
                  </ul>
                  <div class="main-button">
                    <a href="reservation.html">Make a Reservation</a>
                  </div>
                </div>
              </div>
            </div>
<!--            <div class="item">-->
<!--              <div class="thumb">-->
<!--                <img src="assets/images/offers-03.jpg" alt="">-->
<!--                <div class="text">-->
<!--                  <h4>George Town<br><span><i class="fa fa-users"></i> 234 Check Ins</span></h4>-->
<!--                  <h6>$420<br><span>/person</span></h6>-->
<!--                  <div class="line-dec"></div>-->
<!--                  <ul>-->
<!--                    <li>Deal Includes:</li>-->
<!--                    <li><i class="fa fa-taxi"></i> 5 Days Trip > Hotel Included</li>-->
<!--                    <li><i class="fa fa-plane"></i> Airplane Bill Included</li>-->
<!--                    <li><i class="fa fa-building"></i> Daily Places Visit</li>-->
<!--                  </ul>-->
<!--                  <div class="main-button">-->
<!--                    <a href="reservation.html">Make a Reservation</a>-->
<!--                  </div>-->
<!--                </div>-->
<!--              </div>-->
<!--            </div>-->
<!--          </div>-->
<!--        </div>-->
      </div>
    </div>
  </div>
    </div>
  </div>








<!-- jquery -->
<script src="https://code.jquery.com/jquery-latest.min.js"></script>




<!--  <footer>-->
<!--    <div class="container">-->
<!--      <div class="row">-->
<!--        <div class="col-lg-12">-->
<!--          <p>Copyright © 2036 <a href="#">WoOx Travel</a> Company. All rights reserved. -->
<!--          <br>Design: <a href="https://templatemo.com" target="_blank" title="free CSS templates">TemplateMo</a> Distribution: <a href="https://themewagon.com target="_blank" >ThemeWagon</a></p>-->
<!--        </div>-->
<!--      </div>-->
<!--    </div>-->
<!--  </footer>-->



  <!-- Scripts -->
  <!-- Bootstrap core JavaScript -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
  <script src="{% static '/bootstrap/vendor/jquery/jquery.min.js' %}"></script>
<!--  <script src="{% static '/bootstrap/vendor/bootstrap/js/bootstrap.min.js' %}"></script>-->

  <script src="{% static '/bootstrap/assets/js/isotope.min.js' %}"></script>
  <script src="{% static '/bootstrap/assets/js/owl-carousel.js' %}"></script>
  <script src="{% static '/bootstrap/assets/js/tabs.js' %}"></script>
  <script src="{% static '/bootstrap/assets/js/popup.js' %}"></script>
  <script src="{% static '/bootstrap/assets/js/custom.js' %}"></script>



<script>

  // 해당 공실의 데이터
  $.ajax({
    url: `../detail/getData/`,
    method: 'get',
    dataType: 'json',
    success: function (data) {
      if (data && data.data && data.data.length > 0) {
        // 데이터가 존재하고 배열에 최소한 하나의 객체가 있는 경우
        const propertyDivs = [
          'deposit', 'month', 'address', 'when', 'area', 'my_area', 'my_floor', 'total_floor'
        ];

        // 각 속성에 대한 값을 출력할 div에 넣어줍니다.
        propertyDivs.forEach(property => {
          $(`#${property}`).text(`${property.charAt(0).toUpperCase() + property.slice(1)}: ${data.data[0][property]}`);
        });
      } else {
        console.error('Data structure is not as expected.');
      }
    },
    error: function (error) {
      console.error('Error:', error);
    }
  });

  // 추천 시스템에 들어갈 데이터
  $.ajax({
    url: `../detail/cosine/`,
    method: 'get',
    dataType: 'json',
    success: function (data) {
      if (data && data.data && data.data.recommendation && data.data.recommendation.length > 0) {
        // 메인 index 값 출력
        $('#mainIndex').text(`Main Index: ${data.data.index}`);

        // recommendation 배열 내 각 객체에 대한 div 생성
        const recommendationsDiv = $('#recommendations');

        data.data.recommendation.forEach((recommendation, index) => {
          const recommendationDivId = `recommendation_${index + 1}`;
          recommendationsDiv.append(`<div id="${recommendationDivId}"></div>`);

          // recommendation 객체의 각 속성에 대한 div 생성
          const recommendationDiv = $(`#${recommendationDivId}`);
          for (const property in recommendation) {
            if (recommendation.hasOwnProperty(property)) {
              recommendationDiv.append(`<div>${property.charAt(0).toUpperCase() + property.slice(1)}: ${recommendation[property]}</div>`);
            }
          }
        });
      } else {
        console.error('Data structure is not as expected.');
      }
    },
    error: function (error) {
      console.error('Error:', error);
    }
  });

</script>
  <script>
    $(".option").click(function(){
      $(".option").removeClass("active");
      $(this).addClass("active");
    });
  </script>
   <script src="https://code.jquery.com/jquery-latest.min.js"></script>
  </body>

</html>
